<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Nexus Gazette</title>
<meta name="description" content="The Nexus Gazette – Curated tech content, Linux and BSD insights, open-source updates, and original articles with proper attribution.">
<!-- Bootstrap CSS/JS and Bootstrap Icons are MIT-licensed. Fonts are OFL-licensed. -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" onerror="this.onerror=null;this.href='assets/bootstrap-icons.css';">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Spectral:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="./assets/style.css" rel="stylesheet">
<script>
  const svg = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <rect x="10" y="10" width="30" height="30" fill="#1e90ff"/>
  <rect x="60" y="10" width="30" height="30" fill="#ff6347"/>
  <circle cx="50" cy="70" r="20" fill="#32cd32"/>
</svg>`;
  // Create a blob from the SVG string
  const svgBlob = new Blob([svg], {type: 'image/svg+xml'});
  const url = URL.createObjectURL(svgBlob);
  // Create a favicon link and append to the head
  const link = document.createElement('link');
  link.rel = 'icon';
  link.href = url;
  document.head.appendChild(link);
</script>
<!-- All content properly attributed. Original posts marked; external sources linked. -->
</head>
<body>
<!-- Navbar -->
<header class="navbar navbar-expand-lg navbar-dark sticky-top" style="background-color:#563d7c;">
<div class="container-xxl">
	<a class="navbar-brand text-white" href="./">The Nexus Gazette</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarMenu">
  <ul class="navbar-nav ms-auto" x-data="navMenu()" x-init="init()">
		<template x-for="item in items" :key="item.href">
			<li class="nav-item" x-html="item.html"></li>
		</template>
		<!-- Sidebar toggle & mode toggle remain static -->
		<li class="nav-item">
			<a class="nav-link text-white" href="#" id="layoutToggle" title="Toggle sidebar position">
				<i class="bi bi-layout-sidebar-inset" id="layoutIcon"></i>
			</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-white" href="#" id="modeToggle" title="Toggle dark/light mode">
				<i class="bi bi-sun-fill" id="modeIcon"></i>
			</a>
		</li>
	</ul>
	</div>
</div>
</header>
<!-- Page content -->
<div class="container-xxl content-grid">
<aside class="sidebar">
	<!-- 
	  <img src="https://picsum.photos/id/685/100/100" alt="Logo" class="logo"> 
	-->
	<div class="logo-container">
		<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
			<rect x="10" y="10" width="30" height="30" fill="#1e90ff"/>
			<rect x="60" y="10" width="30" height="30" fill="#ff6347"/>
			<circle cx="50" cy="70" r="20" fill="#32cd32"/>
		</svg>
	</div>
	<p>Curated insights and excerpts on FreeBSD, Debian, and more.</p>
  <div id="sidebar-nav-placeholder">
    <!-- Sidebar links will be loaded here -->
  </div>
</aside>
<main class="main-content">
<!-- Content summarized -->
<div id="main-content-placeholder"></div>
<!-- Pagination -->
<div id="pagination-placeholder">
  <!-- pagination links will be loaded here -->
</div>
</main>
</div>
<!--
All text content and scripts in this template are original or summarized with proper attribution.
Bootstrap CSS/JS and Bootstrap Icons are MIT-licensed.
External references are linked explicitly.
-->
<!-- Footer -->
<!-- License & attribution notice -->
<footer>
  &copy; 2025 The Nexus Gazette. Curated tech content and excerpts from external sources.
  <br>
  <span>
    Third-party resources: Bootstrap CSS/JS &amp; Icons – MIT | Spectral &amp; Playfair Display fonts – OFL | Text content – original or summarized with attribution
  </span>
</footer>
<!-- Scroll to Top Button -->
<button id="top-btn" title="Go to top"><i class="bi bi-arrow-up"></i></button>
<!-- Load CDN first -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script src="./assets/page.js"></script>
<script>
function navMenu() {
  return {
    items: [],
    init() {
      fetch('./assets/navbar.html')
        .then(res => res.text())
        .then(html => {
          // Parse <li> elements
          const temp = document.createElement('div');
          temp.innerHTML = html;
          const lis = temp.querySelectorAll('li');
          this.items = Array.from(lis).map(li => ({ html: li.innerHTML, href: li.querySelector('a').href }));
        })
        .catch(err => console.error(err));
    }
  }
}
</script>
<script>
// ----------- Load main content from XML -----------
const contentPlaceholder = document.getElementById('main-content-placeholder');

fetch('./contents/page2.xml?v=' + Date.now())
  .then(response => {
    if (!response.ok) throw new Error('Failed to load XML');
    return response.text();
  })
  .then(str => {
    const parser = new DOMParser();
    const xml = parser.parseFromString(str, "application/xml");
    const articles = xml.getElementsByTagName('article');

    let html = '';
    for (let article of articles) {
      const title = article.getElementsByTagName('title')[0].textContent;
      const date = article.getElementsByTagName('date')[0].textContent;
      const sourceNode = article.getElementsByTagName('source')[0];
      const source = sourceNode ? new XMLSerializer().serializeToString(sourceNode) : '';

      // Serialize body node to keep all tags (p, blockquote, a, etc.)
      const bodyNode = article.getElementsByTagName('body')[0];
      const bodyHTML = bodyNode ? new XMLSerializer().serializeToString(bodyNode) : '';

      html += `
        <article class="post">
          <h2 class="post-title">${title}</h2>
          <p class="post-meta"><em>${date} &middot; ${source}</em></p>
          ${bodyHTML}
        </article>
        <hr>
      `;
    }
    contentPlaceholder.innerHTML = html;
  })
  .catch(err => console.error(err));
</script>
</body>
</html>